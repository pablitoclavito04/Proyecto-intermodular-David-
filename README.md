# üéØ AI Interview Platform - MERN Stack

A comprehensive web application for personalized AI-powered interviews. Practice job interviews with realistic questions generated by AI or submit your own. Get instant feedback, track your performance, and improve your interview skills.

## üìã Features

### Core Features
- ‚úÖ **User Authentication**: Secure registration and login with JWT
- ‚úÖ **Two Interview Types**:
  - AI-Generated Questions: Based on profession and difficulty level
  - Custom Questions: Add your own interview questions
- ‚úÖ **Voice Interview**: Real-time voice interaction with speech-to-text and text-to-speech
- ‚úÖ **AI Feedback**: Intelligent evaluation of responses with scoring (0-100)
- ‚úÖ **Interview History**: View all past interviews and responses
- ‚úÖ **Dashboard**: Statistics, performance trends, and analytics

### Premium Features
- ‚úÖ **Download Reports**: Export interview results as PDF
- ‚úÖ **View Statistics**: Detailed analytics and performance metrics
- ‚úÖ **Free Trial**: 7 days free trial for new users

### User Experience
- ‚úÖ **Dark Mode**: Toggle between light and dark themes
- ‚úÖ **Multi-language Support**: English, Spanish, French, German, Portuguese, Italian, Japanese, Chinese
- ‚úÖ **Responsive Design**: Works on desktop, tablet, and mobile
- ‚úÖ **Real-time Feedback**: Instant scoring and analysis

### Payment System
- ‚úÖ **PayPal Integration**: Secure payment processing
- ‚úÖ **Subscription Plans**:
  - Free: Limited access with 7-day trial
  - Premium: $9.99/month for full features

### Technical Features
- ‚úÖ **Docker Support**: Fully containerized with Docker Compose
- ‚úÖ **MongoDB**: Persistent data storage
- ‚úÖ **Express API**: RESTful backend with full validation
- ‚úÖ **React Frontend**: Modern UI with Tailwind CSS
- ‚úÖ **Error Handling**: Comprehensive error management and validation
- ‚úÖ **Rate Limiting**: API rate limiting for security

## üèóÔ∏è Technology Stack

### Backend
- **Runtime**: Node.js
- **Framework**: Express.js
- **Database**: MongoDB
- **Authentication**: JWT (jsonwebtoken)
- **Password Hashing**: bcryptjs
- **AI Integration**: OpenAI API (GPT-4, Whisper)
- **Payment**: PayPal SDK
- **Validation**: express-validator, Joi
- **Security**: Helmet, CORS, Rate Limiting

### Frontend
- **Framework**: React 18
- **Routing**: React Router v6
- **Styling**: Tailwind CSS
- **State Management**: Zustand
- **Charts**: Recharts
- **Internationalization**: i18next
- **HTTP Client**: Axios
- **UI Components**: React Icons
- **Notifications**: React Toastify
- **Voice**: Web Audio API

### DevOps
- **Containerization**: Docker
- **Orchestration**: Docker Compose
- **Reverse Proxy**: nginx (via Docker)

## üì¶ Installation

### Prerequisites
- Docker & Docker Compose
- OpenAI API Key (https://platform.openai.com/api-keys)
- PayPal Developer Account (https://developer.paypal.com)

### Quick Start with Docker

1. **Clone the repository**
```bash
git clone <repository-url>
cd ai-interview-platform
```

2. **Configure environment variables**
```bash
# Backend configuration
cp backend/.env.example backend/.env

# Frontend configuration
cp frontend/.env.example frontend/.env
```

3. **Update .env files with your credentials**
```bash
# backend/.env
OPENAI_API_KEY=your_openai_api_key
PAYPAL_CLIENT_ID=your_paypal_client_id
PAYPAL_SECRET=your_paypal_secret

# frontend/.env
REACT_APP_PAYPAL_CLIENT_ID=your_paypal_client_id
```

4. **Start the application**
```bash
docker-compose up -d
```

5. **Access the application**
- Frontend: http://localhost:3000
- Backend API: http://localhost:5000/api
- MongoDB: localhost:27017

## üöÄ Usage

### Getting Started

1. **Register**: Create a new account with email, password, name, and profession
2. **Login**: Sign in with your credentials
3. **Dashboard**: View your statistics and interview history
4. **Start Interview**: Create a new interview or choose pre-existing one
5. **Interview Session**: Answer questions via voice or text
6. **Results**: Get immediate feedback and scoring

### Interview Types

#### AI Generated Interviews
1. Select profession (e.g., Software Engineer, Product Manager)
2. Choose difficulty level (Junior, Mid, Senior)
3. AI generates 5-10 contextual questions
4. Answer via voice or text
5. Receive AI-powered feedback

#### Custom Interviews
1. Add your own questions
2. AI still provides feedback on your responses
3. Full control over interview content

### Dashboard
- **Overview Stats**: Total interviews, completion rate, average score
- **Performance Trends**: Line chart showing score progression
- **Score Distribution**: Pie chart of interviews by profession
- **Recent Interviews**: Quick access to latest interviews

### Premium Features
- **Download Reports**: Export interview with scoring and feedback
- **Statistics**: Detailed performance metrics and trends
- **Unlimited Interviews**: Access all premium features

## üîê Authentication & Security

### User Registration
- Email validation
- Password encryption with bcryptjs
- Automatic free trial assignment (7 days)
- Database persistence

### Login & Sessions
- JWT token generation (7-day expiry)
- Token stored in browser localStorage
- Automatic session validation
- Logout clears all session data

### Security Features
- Password hashing with salt
- CORS enabled for specified origins
- Rate limiting on API endpoints
- Helmet for HTTP header protection
- Input validation on all endpoints

## üí≥ Payment Integration

### PayPal Setup
1. Create PayPal Developer account
2. Get Client ID and Secret from sandbox
3. Configure in .env files
4. Test in sandbox mode before production

### Payment Flow
1. User clicks "Upgrade to Premium"
2. Redirected to PayPal approval page
3. After approval, payment executed
4. Subscription activated in database
5. User gets premium features

### Subscription Management
- 30-day auto-renewal
- Manual cancellation available
- Trial conversion to paid
- Feature-based access control

## üìä Database Schema

### User Collection
```javascript
{
  email: String (unique),
  password: String (hashed),
  firstName: String,
  lastName: String,
  profession: String,
  language: String (enum: en, es, fr, de, pt, it, ja, zh),
  subscription: ObjectId (ref: Subscription),
  subscriptionStatus: String (enum: free, premium, expired),
  freeTrialEndDate: Date,
  interviews: [ObjectId] (ref: Interview),
  profileImage: String,
  createdAt: Date,
  updatedAt: Date
}
```

### Interview Collection
```javascript
{
  userId: ObjectId (ref: User),
  title: String,
  profession: String,
  type: String (enum: ai_generated, custom),
  difficulty: String (enum: junior, mid, senior),
  language: String,
  status: String (enum: in_progress, completed, paused),
  duration: Number,
  questions: [ObjectId] (ref: Question),
  totalScore: Number,
  feedback: String,
  statistics: {
    totalQuestions: Number,
    answeredQuestions: Number,
    averageResponseTime: Number,
    confidence: Number
  },
  createdAt: Date,
  completedAt: Date
}
```

### Question Collection
```javascript
{
  interviewId: ObjectId (ref: Interview),
  questionText: String,
  order: Number,
  category: String,
  difficulty: String,
  responses: [ObjectId] (ref: Response),
  timeLimit: Number
}
```

### Response Collection
```javascript
{
  questionId: ObjectId (ref: Question),
  interviewId: ObjectId (ref: Interview),
  responseText: String,
  responseAudio: String (URL),
  duration: Number,
  score: Number (0-100),
  feedback: String,
  analysis: {
    strengths: [String],
    areasForImprovement: [String],
    keywords: [String]
  },
  createdAt: Date
}
```

### Subscription Collection
```javascript
{
  userId: ObjectId (ref: User),
  plan: String (enum: free, premium),
  status: String (enum: active, inactive, cancelled),
  paypalSubscriptionId: String,
  paypalTransactionId: String,
  startDate: Date,
  endDate: Date,
  renewalDate: Date,
  price: Number,
  features: {
    downloadReports: Boolean,
    viewStatistics: Boolean,
    customInterviews: Boolean,
    voiceInterview: Boolean,
    aiGeneratedQuestions: Boolean
  }
}
```

## üì° API Endpoints

### Authentication
- `POST /api/auth/register` - User registration
- `POST /api/auth/login` - User login
- `GET /api/auth/me` - Get current user
- `PUT /api/auth/profile` - Update profile
- `PUT /api/auth/change-password` - Change password

### Interviews
- `POST /api/interviews` - Create interview
- `GET /api/interviews` - Get all interviews
- `GET /api/interviews/:id` - Get single interview
- `PUT /api/interviews/:id/status` - Update status
- `DELETE /api/interviews/:id` - Delete interview
- `POST /api/interviews/generate-questions` - Generate AI questions

### Responses
- `POST /api/responses` - Submit response
- `GET /api/responses/interview/:interviewId` - Get responses
- `GET /api/responses/:id` - Get single response
- `PUT /api/responses/:id` - Update response

### Statistics
- `GET /api/stats` - User statistics
- `GET /api/stats/interview/:id` - Interview statistics
- `GET /api/stats/trends` - Performance trends

### Subscriptions
- `POST /api/subscriptions/create-payment` - Create PayPal payment
- `POST /api/subscriptions/execute-payment` - Execute payment
- `GET /api/subscriptions` - Get subscription
- `GET /api/subscriptions/premium/check` - Check premium access
- `DELETE /api/subscriptions` - Cancel subscription

### AI
- `POST /api/ai/transcribe` - Transcribe audio
- `POST /api/ai/next-question` - Get next question
- `POST /api/ai/evaluate-response` - Evaluate response

## üß™ Testing

### Manual Testing
1. Create account with test email
2. Start free trial interview
3. Test voice recording feature
4. Check AI feedback accuracy
5. Test subscription upgrade
6. Verify statistics display

### API Testing
```bash
# Test backend health
curl http://localhost:5000/api/health

# Register user
curl -X POST http://localhost:5000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "password": "Test123!",
    "firstName": "John",
    "lastName": "Doe"
  }'
```

## üêõ Troubleshooting

### MongoDB Connection Issues
- Ensure MongoDB is running: `docker ps | grep mongo`
- Check connection string in .env
- Verify network settings: `docker network ls`

### OpenAI API Errors
- Verify API key is valid
- Check API quota limits
- Test with simpler prompt

### PayPal Integration Issues
- Use sandbox credentials for testing
- Verify IPN settings in PayPal dashboard
- Check return URLs match frontend

### Docker Issues
```bash
# View logs
docker-compose logs -f backend
docker-compose logs -f frontend

# Rebuild images
docker-compose up -d --build

# Clean up
docker-compose down -v
```

## üìà Performance Optimization

### Backend
- Database indexing on frequently queried fields
- Connection pooling for MongoDB
- Response caching where applicable
- API rate limiting

### Frontend
- Code splitting with React Router
- Image optimization
- CSS minification via Tailwind
- Lazy loading of components

## üîí Security Best Practices

1. **Environment Variables**: Never commit .env files
2. **JWT Secret**: Use strong, random string in production
3. **HTTPS**: Enable SSL/TLS in production
4. **CORS**: Restrict to specific origins
5. **Input Validation**: All endpoints validate input
6. **SQL Injection**: Using MongoDB prevents SQL injection
7. **XSS Protection**: React auto-escapes content
8. **Rate Limiting**: Prevent brute force attacks

## üìù License

This project is licensed under the MIT License.

## üìû Support

For issues and questions:
1. Check the troubleshooting section
2. Review API documentation
3. Check GitHub issues
4. Contact support

## üéØ Future Enhancements

- [ ] Video interview support
- [ ] Interview scheduling
- [ ] Team/company accounts
- [ ] Advanced analytics
- [ ] Mobile app (React Native)
- [ ] Interview recording playback
- [ ] Peer reviews
- [ ] Interview templates
- [ ] Integration with ATS systems
- [ ] Mock interview with friends

## ü§ù Contributing

Contributions are welcome! Please:
1. Fork the repository
2. Create a feature branch
3. Commit your changes
4. Push to the branch
5. Create a Pull Request

---

**Built with ‚ù§Ô∏è using MERN Stack**
